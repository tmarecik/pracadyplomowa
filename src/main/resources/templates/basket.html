<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" th:replace="~{fragments/layout ::layout(~{::.container})}">
<body>

<div class="container">

            <h2>KOSZYK</h2>

            <table class="uk-table uk-table-striped">
                <thead>
                <tr>
                    <th></th>
                    <th>Nazwa</th>
                    <th>Cena</th>
                    <th>Zarezerwowana Ilość [Sztuk]</th>
                    <th>Cena całkowita</th>
                    <th></th>
                    <th></th>
                </tr>
                </thead>

                <tbody>
                <tr th:each="product: ${products}">
                    <td><img th:src="@{'data:image/png;base64,'+ ${product.icon}}" alt="under construction" /></td>
                    <td th:text="${product.id}" hidden></td>
                    <td th:text="${product.name}"></td>
                    <td th:text="${product.price}"></td>
                    <td th:text="${product.amount}"></td>
                    <td th:text="${product.totalPrice}"></td>
                    <td style="width:100px">
                          <a th:href="@{/basket/{id}(id=${product.id})}"><input class="uk-button uk-label-warning" value="Zmień" type="button"></inut></a>
                    </td>
                    <td style="width:100px">
                        <a th:href="@{/basket/delete/{id}(id=${product.id})}"><input class="uk-button uk-label-warning" value="Usuń" type="button"></inut></a>
                     </td>
        </tr>
        </tbody>
    </table>

    <table class="uk-table uk-table-striped uk-width-1-1@l">
        <thead>
            <tr>
                <th>Wartość koszyka</th>
                <th>Sumaryczna ilość produktów</th>
                <th></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td th:text="${basketTotalPrice}"></td>
                <td th:text="${basketTotalItems}"></td>
                <td>
                    <a th:href="@{/basket/deleteAll}"><input class="uk-button uk-label-warning" value="Wyczyść koszyk" type="button"></inut></a>
                </td>
                <td>
                    <div th:if="${basketTotalItems}>0">
                        <a th:href="@{/basket/buy}"><input class="uk-button uk-width-1-1 uk-label-danger" value="Kup" type="button"></inut></a>
                    </div>
                    <div th:unless="${basketTotalItems}">
                        <div class="uk-card uk-card-default uk-card-body uk-width-1-2@m">
                            <p> Twój koszyk jest pusty </p>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>

</body>
</html>